import{z as de,ai as ue,ab as me,U as ve,r as k,j as e,m as pe,n as X,aj as xe,c as I,b as Z,y as _}from"./index-BNEGGE57.js";import be from"./html2canvas.esm-QH1iLAAe.js";var M={},z,Y;function ce(){return Y||(Y=1,z={L:1,M:0,Q:3,H:2}),z}var V,J;function ge(){return J||(J=1,V={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),V}var Q,ee;function we(){if(ee)return Q;ee=1;var h=ge();function n(o){this.mode=h.MODE_8BIT_BYTE,this.data=o}return n.prototype={getLength:function(o){return this.data.length},write:function(o){for(var v=0;v<this.data.length;v++)o.put(this.data.charCodeAt(v),8)}},Q=n,Q}var U,te;function ye(){if(te)return U;te=1;var h=ce();function n(o,v){this.totalCount=o,this.dataCount=v}return n.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],n.getRSBlocks=function(o,v){var f=n.getRsBlockTable(o,v);if(f==null)throw new Error("bad rs block @ typeNumber:"+o+"/errorCorrectLevel:"+v);for(var i=f.length/3,d=new Array,s=0;s<i;s++)for(var r=f[s*3+0],t=f[s*3+1],l=f[s*3+2],a=0;a<r;a++)d.push(new n(t,l));return d},n.getRsBlockTable=function(o,v){switch(v){case h.L:return n.RS_BLOCK_TABLE[(o-1)*4+0];case h.M:return n.RS_BLOCK_TABLE[(o-1)*4+1];case h.Q:return n.RS_BLOCK_TABLE[(o-1)*4+2];case h.H:return n.RS_BLOCK_TABLE[(o-1)*4+3];default:return}},U=n,U}var F,re;function Ne(){if(re)return F;re=1;function h(){this.buffer=new Array,this.length=0}return h.prototype={get:function(n){var o=Math.floor(n/8);return(this.buffer[o]>>>7-n%8&1)==1},put:function(n,o){for(var v=0;v<o;v++)this.putBit((n>>>o-v-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(n){var o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),n&&(this.buffer[o]|=128>>>this.length%8),this.length++}},F=h,F}var G,ae;function he(){if(ae)return G;ae=1;for(var h={glog:function(o){if(o<1)throw new Error("glog("+o+")");return h.LOG_TABLE[o]},gexp:function(o){for(;o<0;)o+=255;for(;o>=256;)o-=255;return h.EXP_TABLE[o]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)h.EXP_TABLE[n]=1<<n;for(var n=8;n<256;n++)h.EXP_TABLE[n]=h.EXP_TABLE[n-4]^h.EXP_TABLE[n-5]^h.EXP_TABLE[n-6]^h.EXP_TABLE[n-8];for(var n=0;n<255;n++)h.LOG_TABLE[h.EXP_TABLE[n]]=n;return G=h,G}var q,ne;function fe(){if(ne)return q;ne=1;var h=he();function n(o,v){if(o.length==null)throw new Error(o.length+"/"+v);for(var f=0;f<o.length&&o[f]==0;)f++;this.num=new Array(o.length-f+v);for(var i=0;i<o.length-f;i++)this.num[i]=o[i+f]}return n.prototype={get:function(o){return this.num[o]},getLength:function(){return this.num.length},multiply:function(o){for(var v=new Array(this.getLength()+o.getLength()-1),f=0;f<this.getLength();f++)for(var i=0;i<o.getLength();i++)v[f+i]^=h.gexp(h.glog(this.get(f))+h.glog(o.get(i)));return new n(v,0)},mod:function(o){if(this.getLength()-o.getLength()<0)return this;for(var v=h.glog(this.get(0))-h.glog(o.get(0)),f=new Array(this.getLength()),i=0;i<this.getLength();i++)f[i]=this.get(i);for(var i=0;i<o.getLength();i++)f[i]^=h.gexp(h.glog(o.get(i))+v);return new n(f,0).mod(o)}},q=n,q}var K,se;function je(){if(se)return K;se=1;var h=ge(),n=fe(),o=he(),v={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(i){for(var d=i<<10;f.getBCHDigit(d)-f.getBCHDigit(f.G15)>=0;)d^=f.G15<<f.getBCHDigit(d)-f.getBCHDigit(f.G15);return(i<<10|d)^f.G15_MASK},getBCHTypeNumber:function(i){for(var d=i<<12;f.getBCHDigit(d)-f.getBCHDigit(f.G18)>=0;)d^=f.G18<<f.getBCHDigit(d)-f.getBCHDigit(f.G18);return i<<12|d},getBCHDigit:function(i){for(var d=0;i!=0;)d++,i>>>=1;return d},getPatternPosition:function(i){return f.PATTERN_POSITION_TABLE[i-1]},getMask:function(i,d,s){switch(i){case v.PATTERN000:return(d+s)%2==0;case v.PATTERN001:return d%2==0;case v.PATTERN010:return s%3==0;case v.PATTERN011:return(d+s)%3==0;case v.PATTERN100:return(Math.floor(d/2)+Math.floor(s/3))%2==0;case v.PATTERN101:return d*s%2+d*s%3==0;case v.PATTERN110:return(d*s%2+d*s%3)%2==0;case v.PATTERN111:return(d*s%3+(d+s)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}},getErrorCorrectPolynomial:function(i){for(var d=new n([1],0),s=0;s<i;s++)d=d.multiply(new n([1,o.gexp(s)],0));return d},getLengthInBits:function(i,d){if(1<=d&&d<10)switch(i){case h.MODE_NUMBER:return 10;case h.MODE_ALPHA_NUM:return 9;case h.MODE_8BIT_BYTE:return 8;case h.MODE_KANJI:return 8;default:throw new Error("mode:"+i)}else if(d<27)switch(i){case h.MODE_NUMBER:return 12;case h.MODE_ALPHA_NUM:return 11;case h.MODE_8BIT_BYTE:return 16;case h.MODE_KANJI:return 10;default:throw new Error("mode:"+i)}else if(d<41)switch(i){case h.MODE_NUMBER:return 14;case h.MODE_ALPHA_NUM:return 13;case h.MODE_8BIT_BYTE:return 16;case h.MODE_KANJI:return 12;default:throw new Error("mode:"+i)}else throw new Error("type:"+d)},getLostPoint:function(i){for(var d=i.getModuleCount(),s=0,r=0;r<d;r++)for(var t=0;t<d;t++){for(var l=0,a=i.isDark(r,t),u=-1;u<=1;u++)if(!(r+u<0||d<=r+u))for(var m=-1;m<=1;m++)t+m<0||d<=t+m||u==0&&m==0||a==i.isDark(r+u,t+m)&&l++;l>5&&(s+=3+l-5)}for(var r=0;r<d-1;r++)for(var t=0;t<d-1;t++){var c=0;i.isDark(r,t)&&c++,i.isDark(r+1,t)&&c++,i.isDark(r,t+1)&&c++,i.isDark(r+1,t+1)&&c++,(c==0||c==4)&&(s+=3)}for(var r=0;r<d;r++)for(var t=0;t<d-6;t++)i.isDark(r,t)&&!i.isDark(r,t+1)&&i.isDark(r,t+2)&&i.isDark(r,t+3)&&i.isDark(r,t+4)&&!i.isDark(r,t+5)&&i.isDark(r,t+6)&&(s+=40);for(var t=0;t<d;t++)for(var r=0;r<d-6;r++)i.isDark(r,t)&&!i.isDark(r+1,t)&&i.isDark(r+2,t)&&i.isDark(r+3,t)&&i.isDark(r+4,t)&&!i.isDark(r+5,t)&&i.isDark(r+6,t)&&(s+=40);for(var p=0,t=0;t<d;t++)for(var r=0;r<d;r++)i.isDark(r,t)&&p++;var w=Math.abs(100*p/d/d-50)/5;return s+=w*10,s}};return K=f,K}var W,ie;function Ee(){if(ie)return W;ie=1;var h=we(),n=ye(),o=Ne(),v=je(),f=fe();function i(s,r){this.typeNumber=s,this.errorCorrectLevel=r,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var d=i.prototype;return d.addData=function(s){var r=new h(s);this.dataList.push(r),this.dataCache=null},d.isDark=function(s,r){if(s<0||this.moduleCount<=s||r<0||this.moduleCount<=r)throw new Error(s+","+r);return this.modules[s][r]},d.getModuleCount=function(){return this.moduleCount},d.make=function(){if(this.typeNumber<1){var s=1;for(s=1;s<40;s++){for(var r=n.getRSBlocks(s,this.errorCorrectLevel),t=new o,l=0,a=0;a<r.length;a++)l+=r[a].dataCount;for(var a=0;a<this.dataList.length;a++){var u=this.dataList[a];t.put(u.mode,4),t.put(u.getLength(),v.getLengthInBits(u.mode,s)),u.write(t)}if(t.getLengthInBits()<=l*8)break}this.typeNumber=s}this.makeImpl(!1,this.getBestMaskPattern())},d.makeImpl=function(s,r){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var t=0;t<this.moduleCount;t++){this.modules[t]=new Array(this.moduleCount);for(var l=0;l<this.moduleCount;l++)this.modules[t][l]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(s,r),this.typeNumber>=7&&this.setupTypeNumber(s),this.dataCache==null&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},d.setupPositionProbePattern=function(s,r){for(var t=-1;t<=7;t++)if(!(s+t<=-1||this.moduleCount<=s+t))for(var l=-1;l<=7;l++)r+l<=-1||this.moduleCount<=r+l||(0<=t&&t<=6&&(l==0||l==6)||0<=l&&l<=6&&(t==0||t==6)||2<=t&&t<=4&&2<=l&&l<=4?this.modules[s+t][r+l]=!0:this.modules[s+t][r+l]=!1)},d.getBestMaskPattern=function(){for(var s=0,r=0,t=0;t<8;t++){this.makeImpl(!0,t);var l=v.getLostPoint(this);(t==0||s>l)&&(s=l,r=t)}return r},d.createMovieClip=function(s,r,t){var l=s.createEmptyMovieClip(r,t),a=1;this.make();for(var u=0;u<this.modules.length;u++)for(var m=u*a,c=0;c<this.modules[u].length;c++){var p=c*a,w=this.modules[u][c];w&&(l.beginFill(0,100),l.moveTo(p,m),l.lineTo(p+a,m),l.lineTo(p+a,m+a),l.lineTo(p,m+a),l.endFill())}return l},d.setupTimingPattern=function(){for(var s=8;s<this.moduleCount-8;s++)this.modules[s][6]==null&&(this.modules[s][6]=s%2==0);for(var r=8;r<this.moduleCount-8;r++)this.modules[6][r]==null&&(this.modules[6][r]=r%2==0)},d.setupPositionAdjustPattern=function(){for(var s=v.getPatternPosition(this.typeNumber),r=0;r<s.length;r++)for(var t=0;t<s.length;t++){var l=s[r],a=s[t];if(this.modules[l][a]==null)for(var u=-2;u<=2;u++)for(var m=-2;m<=2;m++)u==-2||u==2||m==-2||m==2||u==0&&m==0?this.modules[l+u][a+m]=!0:this.modules[l+u][a+m]=!1}},d.setupTypeNumber=function(s){for(var r=v.getBCHTypeNumber(this.typeNumber),t=0;t<18;t++){var l=!s&&(r>>t&1)==1;this.modules[Math.floor(t/3)][t%3+this.moduleCount-8-3]=l}for(var t=0;t<18;t++){var l=!s&&(r>>t&1)==1;this.modules[t%3+this.moduleCount-8-3][Math.floor(t/3)]=l}},d.setupTypeInfo=function(s,r){for(var t=this.errorCorrectLevel<<3|r,l=v.getBCHTypeInfo(t),a=0;a<15;a++){var u=!s&&(l>>a&1)==1;a<6?this.modules[a][8]=u:a<8?this.modules[a+1][8]=u:this.modules[this.moduleCount-15+a][8]=u}for(var a=0;a<15;a++){var u=!s&&(l>>a&1)==1;a<8?this.modules[8][this.moduleCount-a-1]=u:a<9?this.modules[8][15-a-1+1]=u:this.modules[8][15-a-1]=u}this.modules[this.moduleCount-8][8]=!s},d.mapData=function(s,r){for(var t=-1,l=this.moduleCount-1,a=7,u=0,m=this.moduleCount-1;m>0;m-=2)for(m==6&&m--;;){for(var c=0;c<2;c++)if(this.modules[l][m-c]==null){var p=!1;u<s.length&&(p=(s[u]>>>a&1)==1);var w=v.getMask(r,l,m-c);w&&(p=!p),this.modules[l][m-c]=p,a--,a==-1&&(u++,a=7)}if(l+=t,l<0||this.moduleCount<=l){l-=t,t=-t;break}}},i.PAD0=236,i.PAD1=17,i.createData=function(s,r,t){for(var l=n.getRSBlocks(s,r),a=new o,u=0;u<t.length;u++){var m=t[u];a.put(m.mode,4),a.put(m.getLength(),v.getLengthInBits(m.mode,s)),m.write(a)}for(var c=0,u=0;u<l.length;u++)c+=l[u].dataCount;if(a.getLengthInBits()>c*8)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+c*8+")");for(a.getLengthInBits()+4<=c*8&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=c*8||(a.put(i.PAD0,8),a.getLengthInBits()>=c*8));)a.put(i.PAD1,8);return i.createBytes(a,l)},i.createBytes=function(s,r){for(var t=0,l=0,a=0,u=new Array(r.length),m=new Array(r.length),c=0;c<r.length;c++){var p=r[c].dataCount,w=r[c].totalCount-p;l=Math.max(l,p),a=Math.max(a,w),u[c]=new Array(p);for(var x=0;x<u[c].length;x++)u[c][x]=255&s.buffer[x+t];t+=p;var N=v.getErrorCorrectPolynomial(w),L=new f(u[c],N.getLength()-1),T=L.mod(N);m[c]=new Array(N.getLength()-1);for(var x=0;x<m[c].length;x++){var B=x+T.getLength()-m[c].length;m[c][x]=B>=0?T.get(B):0}}for(var A=0,x=0;x<r.length;x++)A+=r[x].totalCount;for(var g=new Array(A),b=0,x=0;x<l;x++)for(var c=0;c<r.length;c++)x<u[c].length&&(g[b++]=u[c][x]);for(var x=0;x<a;x++)for(var c=0;c<r.length;c++)x<m[c].length&&(g[b++]=m[c][x]);return g},W=i,W}var $={},oe;function Ce(){if(oe)return $;oe=1,Object.defineProperty($,"__esModule",{value:!0});var h=Object.assign||function(t){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(t[u]=a[u])}return t},n=ue(),o=i(n),v=de(),f=i(v);function i(t){return t&&t.__esModule?t:{default:t}}function d(t,l){var a={};for(var u in t)l.indexOf(u)>=0||Object.prototype.hasOwnProperty.call(t,u)&&(a[u]=t[u]);return a}var s={bgColor:o.default.oneOfType([o.default.object,o.default.string]).isRequired,bgD:o.default.string.isRequired,fgColor:o.default.oneOfType([o.default.object,o.default.string]).isRequired,fgD:o.default.string.isRequired,size:o.default.number.isRequired,title:o.default.string,viewBoxSize:o.default.number.isRequired,xmlns:o.default.string},r=(0,v.forwardRef)(function(t,l){var a=t.bgColor,u=t.bgD,m=t.fgD,c=t.fgColor,p=t.size,w=t.title,x=t.viewBoxSize,N=t.xmlns,L=N===void 0?"http://www.w3.org/2000/svg":N,T=d(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return f.default.createElement("svg",h({},T,{height:p,ref:l,viewBox:"0 0 "+x+" "+x,width:p,xmlns:L}),w?f.default.createElement("title",null,w):null,f.default.createElement("path",{d:u,fill:a}),f.default.createElement("path",{d:m,fill:c}))});return r.displayName="QRCodeSvg",r.propTypes=s,$.default=r,$}var le;function De(){if(le)return M;le=1,Object.defineProperty(M,"__esModule",{value:!0}),M.QRCode=void 0;var h=Object.assign||function(p){for(var w=1;w<arguments.length;w++){var x=arguments[w];for(var N in x)Object.prototype.hasOwnProperty.call(x,N)&&(p[N]=x[N])}return p},n=ue(),o=a(n),v=ce(),f=a(v),i=Ee(),d=a(i),s=de(),r=a(s),t=Ce(),l=a(t);function a(p){return p&&p.__esModule?p:{default:p}}function u(p,w){var x={};for(var N in p)w.indexOf(N)>=0||Object.prototype.hasOwnProperty.call(p,N)&&(x[N]=p[N]);return x}var m={bgColor:o.default.oneOfType([o.default.object,o.default.string]),fgColor:o.default.oneOfType([o.default.object,o.default.string]),level:o.default.string,size:o.default.number,value:o.default.string.isRequired},c=(0,s.forwardRef)(function(p,w){var x=p.bgColor,N=x===void 0?"#FFFFFF":x,L=p.fgColor,T=L===void 0?"#000000":L,B=p.level,A=B===void 0?"L":B,g=p.size,b=g===void 0?256:g,j=p.value,y=u(p,["bgColor","fgColor","level","size","value"]),E=new d.default(-1,f.default[A]);E.addData(j),E.make();var P=E.modules;return r.default.createElement(l.default,h({},y,{bgColor:N,bgD:P.map(function(R,S){return R.map(function(O,C){return O?"":"M "+C+" "+S+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:T,fgD:P.map(function(R,S){return R.map(function(O,C){return O?"M "+C+" "+S+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:w,size:b,viewBoxSize:P.length}))});return M.QRCode=c,c.displayName="QRCode",c.propTypes=m,M.default=c,M}var Le=De();const Te=me(Le),Be=()=>{const{link:h}=ve(),[n,o]=k.useState(null),[v,f]=k.useState(!0),[i,d]=k.useState(!1),[s,r]=k.useState(!1),[t,l]=k.useState(null),[a,u]=k.useState({}),[m,c]=k.useState({}),p=async()=>{try{const g=await Z.get(`${I}/events/public/${h}`);o(g.data.event);const b={};g.data.event.registrationFields.forEach(j=>{b[j.fieldName]=""}),u(b)}catch(g){console.error("Error fetching event:",g),_.error("Event not found or is no longer active")}finally{f(!1)}};k.useEffect(()=>{p()},[h]);const w=(g,b)=>{u(j=>({...j,[g]:b})),m[g]&&c(j=>({...j,[g]:""}))},x=()=>{const g={};return n.registrationFields.forEach(b=>{b.isRequired&&(!a[b.fieldName]||a[b.fieldName].trim()==="")&&(g[b.fieldName]="This field is required")}),c(g),Object.keys(g).length===0},N=async g=>{var b,j;if(g.preventDefault(),!x()){_.error("Please fill in all required fields");return}d(!0);try{const y=[];Object.keys(a).forEach(C=>{y.push({fieldName:C,fieldValue:a[C]})});let E="";const P=["full name","name","your name","participant name","attendee name"];for(const C of P){const D=Object.keys(a).find(H=>H.toLowerCase()===C.toLowerCase());if(D&&a[D]){E=a[D];break}}let R="";const S=["email","e-mail","email address","your email"];for(const C of S){const D=Object.keys(a).find(H=>H.toLowerCase()===C.toLowerCase());if(D&&a[D]){R=a[D];break}}if(!R&&n.registrationFields){const C=n.registrationFields.find(D=>D.fieldType==="email");C&&a[C.fieldName]&&(R=a[C.fieldName])}const O=await Z.post(`${I}/events/register/${h}`,{registrantName:E,registrantEmail:R,registrationData:y});r(!0),l(O.data.registration._id),_.success("Registration successful!")}catch(y){console.error("Registration error:",y),_.error(((j=(b=y.response)==null?void 0:b.data)==null?void 0:j.message)||"Registration failed. Please try again.")}finally{d(!1)}};if(v)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:e.jsx(pe,{})});if(!n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md w-full",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Unavailable"}),e.jsx("p",{className:"text-gray-600",children:"The event you are looking for is not found or has expired."})]})});const L=()=>{if(!n)return"#";const g=new Date(n.eventDate).toISOString().replace(/-|:|\.\d\d\d/g,""),b=new Date(new Date(n.eventDate).getTime()+3600*1e3).toISOString().replace(/-|:|\.\d\d\d/g,"");return`https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(n.eventName)}&dates=${g}/${b}&details=${encodeURIComponent(n.eventDescription||"")}&sf=true&output=xml`},T=()=>{if(!n)return"#";const g=new Date(n.eventDate).toISOString(),b=new Date(new Date(n.eventDate).getTime()+3600*1e3).toISOString();return`https://outlook.live.com/calendar/0/deeplink/compose?path=/calendar/action/compose&rru=addevent&startdt=${g}&enddt=${b}&subject=${encodeURIComponent(n.eventName)}&body=${encodeURIComponent(n.eventDescription||"")}`},B=()=>{if(!n)return;const g=new Date(n.eventDate).toISOString().replace(/-|:|\.\d\d\d/g,""),b=new Date(new Date(n.eventDate).getTime()+3600*1e3).toISOString().replace(/-|:|\.\d\d\d/g,""),j=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//CRM Event Org//EN
BEGIN:VEVENT
UID:${t||"uid"}@crmevent.com
DTSTAMP:${g}
DTSTART:${g}
DTEND:${b}
SUMMARY:${n.eventName}
DESCRIPTION:${n.eventDescription||""}
END:VEVENT
END:VCALENDAR`,y=new Blob([j],{type:"text/calendar;charset=utf-8"}),E=document.createElement("a");E.href=window.URL.createObjectURL(y),E.setAttribute("download",`${n.eventName.replace(/\s+/g,"_")}.ics`),document.body.appendChild(E),E.click(),document.body.removeChild(E)},A=async()=>{const g=document.getElementById("ticket-node");if(g)try{g.classList.add("capturing-ticket");const b=await be(g,{scale:2,useCORS:!0,backgroundColor:"#ffffff",ignoreElements:E=>E.classList.contains("no-print")});g.classList.remove("capturing-ticket");const j=b.toDataURL("image/png"),y=document.createElement("a");y.download=`${n.eventName.replace(/\s+/g,"_")}_Ticket.png`,y.href=j,y.click(),_.success("Ticket downloaded successfully!")}catch(b){console.error("Error downloading ticket:",b),_.error("Failed to download ticket."),g.classList.remove("capturing-ticket")}};if(s){const g=Math.random().toString(36).substr(2,9).toUpperCase(),b=`${window.location.origin}/events/verify-ticket/${t}`;return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-xl w-full",children:[e.jsxs("div",{id:"ticket-node",className:"bg-white rounded-3xl shadow-2xl overflow-hidden relative",children:[e.jsxs("div",{className:"h-32 bg-brand-600 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-black/20 to-transparent"})]}),e.jsxs("div",{className:"px-8 pt-0 pb-10 relative",children:[e.jsx("div",{className:"mx-auto -mt-16 bg-white p-2 rounded-2xl shadow-lg w-24 h-24 flex items-center justify-center mb-6 ring-4 ring-brand-50",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 mb-2",children:"You're Going!"}),e.jsx("p",{className:"text-gray-500 text-lg mb-8",children:"Registration Confirmed"}),e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-100 mb-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})})}),e.jsx("h3",{className:"text-xl font-bold text-brand-700 mb-1",children:n.eventName}),e.jsx("p",{className:"text-gray-600 font-medium mb-4",children:new Date(n.eventDate).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsxs("div",{className:"flex flex-col items-center justify-center my-6",children:[e.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm border border-gray-200",children:e.jsx(Te,{size:128,style:{height:"auto",maxWidth:"100%",width:"100%"},value:b,viewBox:"0 0 128 128"})}),e.jsx("span",{className:"text-xs text-gray-400 mt-2 uppercase tracking-wide",children:"Scan at entrance"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 mt-4 pt-4 border-t border-gray-200 border-dashed",children:[e.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-widest font-bold",children:"Ticket Number"}),e.jsx("span",{className:"font-mono text-2xl font-bold text-gray-800 tracking-wider",children:g})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 no-print",children:[e.jsx("h4",{className:"text-center text-sm font-semibold text-gray-500 uppercase tracking-wider mb-1",children:"Add to Calendar"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("a",{href:L(),target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center p-3 rounded-xl border border-gray-200 hover:border-brand-500 hover:bg-brand-50 transition-all group",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a5/Google_Calendar_icon_%282020%29.svg",alt:"Google",className:"h-8 w-8 mb-2"}),e.jsx("span",{className:"text-xs font-bold text-gray-700 group-hover:text-brand-700",children:"Google"})]}),e.jsxs("a",{href:T(),target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center p-3 rounded-xl border border-gray-200 hover:border-blue-500 hover:bg-blue-50 transition-all group",children:[e.jsxs("svg",{className:"h-8 w-8 mb-2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M11.5 8.25V15.75H20.5V8.25H11.5Z",fill:"#0078D4"}),e.jsx("path",{d:"M11.5 8.25L16 11.25L20.5 8.25",stroke:"#71AFE5",strokeWidth:"1.5"}),e.jsx("path",{d:"M2.5 5.25C2.5 3.73122 3.73122 2.5 5.25 2.5H8.75V11.5H2.5V5.25Z",fill:"#258BC5"}),e.jsx("path",{d:"M2.5 11.5H8.75V20.5H5.25C3.73122 20.5 2.5 19.2688 2.5 17.75V11.5Z",fill:"#005A9E"}),e.jsx("path",{d:"M8.75 16.75V20.5H20.5V16.75H8.75Z",fill:"#005A9E"}),e.jsx("path",{d:"M13.75 16.75H11.5V6.25H13.75V16.75Z",fill:"#258BC5"}),e.jsx("path",{d:"M13.75 6.25H20.5V16.75H13.75V6.25Z",fill:"#0078D4"})]}),e.jsx("span",{className:"text-xs font-bold text-gray-700 group-hover:text-blue-700",children:"Outlook"})]}),e.jsxs("button",{onClick:B,className:"flex flex-col items-center justify-center p-3 rounded-xl border border-gray-200 hover:border-gray-800 hover:bg-gray-100 transition-all group",children:[e.jsx("div",{className:"h-8 w-8 mb-2 flex items-center justify-center bg-gray-800 rounded-lg text-white font-bold text-xs shadow-md",children:"24"}),e.jsx("span",{className:"text-xs font-bold text-gray-700 group-hover:text-gray-900",children:"iCal"})]})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 no-print",children:e.jsxs("button",{onClick:A,className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-brand-600 text-white rounded-xl font-bold hover:bg-brand-700 transition-colors shadow-lg shadow-brand-500/30",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Ticket"]})})]})]}),e.jsxs("div",{className:"relative h-6 bg-gray-50",children:[e.jsx("div",{className:"absolute -top-3 left-0 w-6 h-6 bg-gray-50 rounded-full"}),e.jsx("div",{className:"absolute -top-3 right-0 w-6 h-6 bg-gray-50 rounded-full"}),e.jsx("div",{className:"absolute top-0 left-0 right-0 border-t-2 border-dashed border-gray-300"})]})]}),e.jsx(X,{position:"top-center",className:"!z-[999999]",style:{zIndex:999999}})]})})}return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col font-sans",children:[e.jsxs(xe,{children:[e.jsxs("title",{children:[n.eventName," - Event Registration"]}),e.jsx("meta",{name:"description",content:n.eventDescription||"Register for this event"}),e.jsx("meta",{property:"og:title",content:`${n.eventName} - Registration`}),e.jsx("meta",{property:"og:description",content:n.eventDescription||"Register for this event"}),n.bannerImage&&e.jsx("meta",{property:"og:image",content:`${window.location.protocol}//${window.location.host}${n.bannerImage}`}),e.jsx("meta",{property:"og:url",content:window.location.href}),e.jsx("meta",{property:"og:type",content:"website"})]}),e.jsxs("div",{className:"relative w-full h-[50vh] min-h-[400px] overflow-hidden bg-gray-900",children:[n.bannerImage?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-50 blur-3xl scale-110",style:{backgroundImage:`url(${I.replace("/api","")}${n.bannerImage})`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("img",{src:`${I.replace("/api","")}${n.bannerImage}`,alt:"Event Banner",className:"w-full h-full object-cover object-center max-w-7xl mx-auto opacity-90 shadow-2xl"})})]}):e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-900 to-gray-900 pattern-grid-lg opacity-100"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40 to-transparent"})]}),e.jsx("div",{className:"flex-1 w-full max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 -mt-32 relative z-10 mb-20",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden ring-1 ring-gray-900/5",children:[e.jsxs("div",{className:"px-8 pt-10 pb-8 text-center border-b border-gray-100",children:[e.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-brand-50 text-brand-600 text-xs font-bold tracking-wider uppercase mb-4",children:"Official Registration"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 tracking-tight leading-tight mb-4",children:n.eventName}),e.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-4 md:gap-8 mt-6 text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg text-brand-600",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("span",{className:"font-medium text-lg",children:new Date(n.eventDate).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})})]}),e.jsx("div",{className:"hidden md:block w-px h-8 bg-gray-200"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg text-brand-600",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"font-medium text-lg",children:new Date(n.eventDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]}),e.jsx("div",{className:"px-8 py-8 bg-gray-50/50",children:e.jsx("p",{className:"text-lg text-gray-600 leading-relaxed max-w-2xl mx-auto text-center",children:n.eventDescription})}),e.jsx("div",{className:"px-8 py-10 md:px-12 bg-white",children:e.jsxs("div",{className:"max-w-xl mx-auto",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-8 flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-6 bg-brand-500 rounded-full"}),"Attendee Details"]}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsx("div",{className:"space-y-5",children:n.registrationFields.map((g,b)=>{var j;return e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 ml-1",children:[g.fieldName," ",g.isRequired&&e.jsx("span",{className:"text-red-500",children:"*"})]}),g.fieldType==="textarea"?e.jsx("textarea",{value:a[g.fieldName]||"",onChange:y=>w(g.fieldName,y.target.value),rows:"3",className:`w-full px-4 py-3 rounded-xl border ${m[g.fieldName]?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 focus:border-brand-500 focus:ring-brand-100"} focus:ring-4 transition-all shadow-sm resize-y min-h-[100px] outline-none text-gray-800 bg-gray-50 focus:bg-white`,placeholder:`Enter your ${g.fieldName.toLowerCase()}`}):g.fieldType==="select"?e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:a[g.fieldName]||"",onChange:y=>w(g.fieldName,y.target.value),className:`w-full px-4 py-3 rounded-xl border appearance-none ${m[g.fieldName]?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 focus:border-brand-500 focus:ring-brand-100"} focus:ring-4 transition-all shadow-sm outline-none text-gray-800 bg-gray-50 focus:bg-white`,children:[e.jsx("option",{value:"",children:"Select option"}),(j=g.options)==null?void 0:j.map((y,E)=>e.jsx("option",{value:y,children:y},E))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none text-gray-500",children:e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}):e.jsx("input",{type:g.fieldType,value:a[g.fieldName]||"",onChange:y=>w(g.fieldName,y.target.value),className:`w-full px-4 py-3 rounded-xl border ${m[g.fieldName]?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 focus:border-brand-500 focus:ring-brand-100"} focus:ring-4 transition-all shadow-sm outline-none text-gray-800 bg-gray-50 focus:bg-white h-[52px]`,placeholder:`Enter your ${g.fieldName.toLowerCase()}`}),m[g.fieldName]&&e.jsxs("p",{className:"text-sm text-red-500 font-medium ml-1 flex items-center gap-1",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),m[g.fieldName]]})]},b)})}),e.jsxs("div",{className:"pt-6",children:[e.jsx("button",{type:"submit",disabled:i,className:`w-full group relative flex justify-center py-4 px-4 border border-transparent rounded-xl text-lg font-bold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-4 focus:ring-brand-500/30 shadow-lg shadow-brand-500/30 transition-all transform hover:-translate-y-0.5 ${i?"opacity-80 cursor-not-allowed":""}`,children:i?e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Confirming Registration..."]}):e.jsxs("span",{className:"flex items-center gap-2",children:["Secure My Spot",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 transition-transform group-hover:translate-x-1",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}),e.jsx("p",{className:"text-center text-gray-400 text-xs mt-4",children:"By registering, you agree to our terms of service and privacy policy."})]})]})]})})]})}),e.jsx(X,{position:"top-center",className:"!z-[999999]",style:{zIndex:999999}})]})};export{Be as default};
