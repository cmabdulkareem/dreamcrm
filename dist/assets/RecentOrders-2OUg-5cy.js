const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-Qk_8rZed.js","assets/index-C_CmQJfm.js","assets/index.qfPMNs2q.css"])))=>i.map(i=>d[i]);
import{r as s,j as e,l as fe,W as Ee,_ as Vt,c as B,U as Oe,y as w,A as Da,o as La,u as Aa,p as ge,I as z,v as D,X as _a,V as qt,B as b,T as Fa,f as Ea,g as Fe,h as g,k as Oa,Y as Ua,S as Ta,Z as Ma,M as oe,t as f,$,F as Wt,G as Gt,H as $a,J as Ia,K as Ha,N as za,E as Ba,Q as Ra,C as Va,w as qa,D as Yt}from"./index-C_CmQJfm.js";import{S as Wa}from"./bell-JBdQfIX6.js";import{D as Zt}from"./date-picker-CjSx0l3B.js";const Ga=t=>s.createElement("svg",{className:"fill-current",width:"1em",height:"1em",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.6686 16.75C12.4526 16.75 12.2579 16.6587 12.1211 16.5126L7.5115 11.9059C7.21851 11.6131 7.21836 11.1382 7.51116 10.8452C7.80396 10.5523 8.27883 10.5521 8.57182 10.8449L11.9186 14.1896V4C11.9186 3.58579 12.2544 3.25 12.6686 3.25C13.0828 3.25 13.4186 3.58579 13.4186 4V14.1854L16.7615 10.8449C17.0545 10.5521 17.5294 10.5523 17.8222 10.8453C18.115 11.1383 18.1148 11.6131 17.8218 11.9059L13.2469 16.4776C13.1093 16.644 12.9013 16.75 12.6686 16.75ZM5.41663 16C5.41663 15.5858 5.08084 15.25 4.66663 15.25C4.25241 15.25 3.91663 15.5858 3.91663 16V18.5C3.91663 19.7426 4.92399 20.75 6.16663 20.75H19.1675C20.4101 20.75 21.4175 19.7426 21.4175 18.5V16C21.4175 15.5858 21.0817 15.25 20.6675 15.25C20.2533 15.25 19.9175 15.5858 19.9175 16V18.5C19.9175 18.9142 19.5817 19.25 19.1675 19.25H6.16663C5.75241 19.25 5.41663 18.9142 5.41663 18.5V16Z",fill:"currentColor"})),Ya=({name:t,datetime:i,callback:n,note:o,status:c})=>{const u=h=>{const x=(h==null?void 0:h.toLowerCase())||"";return x.includes("converted")||x==="qualified"?"success":x.includes("negotiation")||x.includes("contacted")?"info":x.includes("call")||x==="new"?"warning":x.includes("lost")||x.includes("not interested")?"error":"light"};return e.jsxs("div",{className:"rounded-lg border border-gray-50 bg-gray-100 p-4 dark:border-gray-700 dark:bg-gray-800",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:t}),e.jsx("span",{children:i}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:e.jsx(fe,{size:"sm",color:u(c),children:c||"N/A"})})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-700 dark:text-gray-200",children:o}),n&&e.jsxs("div",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:["Next Follow-up: ",n]})]})},ce=t=>t?new Date(t).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",de=t=>{if(!t)return"New Lead";const i=Ee.find(n=>n.value===t);return i?i.label:t},Xt=t=>t==="converted"||t==="qualified"?"success":t==="negotiation"||t==="contacted"?"info":t==="callBackLater"||t==="new"?"warning":t==="lost"||t==="notInterested"?"error":"light",Za=t=>t&&t.length>0?t[t.length-1].remark:"No remarks yet",Xa=(t,i)=>!t||t.length===0?!1:t.some(n=>n.isUnread),Ja=async(t,i,n)=>{if(t.length===0){n.warning("Please select at least one lead to download.");return}try{const o=(await Vt(async()=>{const{default:d}=await import("./jspdf.es.min-Qk_8rZed.js").then(N=>N.j);return{default:d}},__vite__mapDeps([0,1,2]))).default,c=(await Vt(async()=>{const{default:d}=await import("./jspdf.plugin.autotable-Ctn9oCMc.js");return{default:d}},[])).default,u=new o("landscape");u.setFontSize(18),u.text("Lead Report",14,20),u.setFontSize(10),u.text(`Generated on: ${new Date().toLocaleDateString("en-IN")}`,14,28);const x=i.filter(d=>t.includes(d._id)).map(d=>{const N=d.remarks&&d.remarks.length>0?d.remarks[d.remarks.length-1].remark:"No remarks";return[d.fullName,ce(d.createdAt),d.phone1,d.contactPoint||"N/A",d.campaign||"N/A",de(d.leadStatus),N.substring(0,30)+(N.length>30?"...":""),ce(d.followUpDate)]});c(u,{head:[["Name","Date Added","Mobile","Contact Point","Campaign","Lead Status","Latest Remark","Follow-up"]],body:x,startY:35,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[70,95,255],textColor:255},alternateRowStyles:{fillColor:[245,247,250]},margin:{top:35}});const v=u.internal.getNumberOfPages();for(let d=1;d<=v;d++)u.setPage(d),u.setFontSize(8),u.text(`Page ${d} of ${v}`,u.internal.pageSize.getWidth()/2,u.internal.pageSize.getHeight()-10,{align:"center"});u.save(`leads-report-${new Date().toISOString().split("T")[0]}.pdf`),n.success(`PDF downloaded with ${t.length} lead(s)!`)}catch(o){console.error("Error generating PDF:",o),n.error("Failed to generate PDF. Please try again.")}},Ue="http://localhost:3000/api",Jt=async(t,i)=>{var n;try{const o=await B.get(`${Ue}/customers/all`,{withCredentials:!0});return typeof t=="function"&&t(o.data.customers),typeof i=="function"&&i(!1),o.data.customers}catch(o){return console.error("Error fetching customers:",o),typeof i=="function"&&i(!1),((n=o.response)==null?void 0:n.status)===401&&alert("Please login to view leads."),[]}},Kt=async(t,i)=>{try{const o=(await B.get(`${Ue}/campaigns/active`,{withCredentials:!0})).data.campaigns.map(c=>({value:c.value,label:c.name}));return o.push({value:"__add_new__",label:"+ Add New Campaign"}),typeof t=="function"&&t(o),o}catch(n){console.error("Error fetching campaigns:",n);const o=[...i,{value:"__add_new__",label:"+ Add New Campaign"}];return typeof t=="function"&&t(o),o}},Ka=async(t,i,n,o,c,u,h,x,v,d,N,R,_,U)=>{var F,I;if(!t.trim()){U.error("Campaign name is required");return}try{const k=await B.post(`${Ue}/campaigns/create`,{name:t,description:i,discountPercentage:n?parseFloat(n):0,cashback:o?parseFloat(o):0,isActive:c},{withCredentials:!0});U.success("Campaign created successfully!"),typeof u=="function"&&u(k.data.campaign.value),typeof h=="function"&&await h(),typeof x=="function"&&x(),typeof v=="function"&&v(""),typeof d=="function"&&d(""),typeof N=="function"&&N(""),typeof R=="function"&&R(""),typeof _=="function"&&_(!0)}catch(k){console.error("Error creating campaign:",k),U.error(((I=(F=k.response)==null?void 0:F.data)==null?void 0:I.message)||"Failed to create campaign")}},Qa=(t,i)=>{var O;const{setSelectedRow:n,setEditName:o,setEditPhone:c,setEditEmail:u,setEditStatus:h,setEditFollowUp:x,setFullName:v,setEmail:d,setPhone1:N,setPhone2:R,setGender:_,setDob:U,setPlace:F,setOtherPlace:I,setStatus:k,setEducation:H,setContactPoint:T,setOtherContactPoint:y,setCampaign:Q,setHandledByPerson:X,setFollowUpDate:p,setRemarks:E,setLeadStatus:ee,setLeadPotential:V,setSelectedValues:C}=i;typeof n=="function"&&n(t),typeof o=="function"&&o(t.fullName),typeof c=="function"&&c(t.phone1),typeof u=="function"&&u(t.email),typeof h=="function"&&h(t.status),typeof x=="function"&&x(t.followUpDate?new Date(t.followUpDate).toISOString().split("T")[0]:""),typeof v=="function"&&v(t.fullName),typeof d=="function"&&d(t.email),typeof N=="function"&&N(t.phone1),typeof R=="function"&&R(t.phone2||""),typeof _=="function"&&_(t.gender||""),typeof U=="function"&&U(t.dob?new Date(t.dob).toISOString().split("T")[0]:""),typeof F=="function"&&F(t.place||""),typeof I=="function"&&I(t.otherPlace||""),typeof k=="function"&&k(t.status||""),typeof H=="function"&&H(t.education||""),typeof T=="function"&&T(t.contactPoint||""),typeof y=="function"&&y(t.otherContactPoint||""),typeof Q=="function"&&Q(t.campaign||""),typeof X=="function"&&X(t.handledBy||""),typeof p=="function"&&p(t.followUpDate?new Date(t.followUpDate).toISOString().split("T")[0]:""),typeof E=="function"&&E(""),typeof ee=="function"&&ee(t.leadStatus||""),typeof V=="function"&&(console.log("Setting leadPotential in edit form:",t.leadPotential),V(t.leadPotential||""));const q=((O=t.coursePreference)==null?void 0:O.map(S=>{if(typeof S=="string"){if(Oe.some(G=>G.value===S))return S;const W=Oe.find(G=>G.label===S);return W?W.value:S}return S}))||[];typeof C=="function"&&C(q)},ye="http://localhost:3000/api",es=async(t,i,n,o,c,u,h,x,v,d,N,R,_,U,F,I,k,H,T,y,Q,X,p,E,ee,V,C,q,O,S)=>{try{let L=t;const W=i.trim(),G=(t==null?void 0:t.leadStatus)!==n;if(W||G){const te={remark:W?i:`Status changed to ${X(n||"new")}`,handledBy:(y==null?void 0:y.fullName)||"Unknown",nextFollowUpDate:H||null,leadStatus:n||"new"},K=await B.post(`${ye}/customers/remark/${t._id}`,te,{withCredentials:!0});K.data.customer&&(L=K.data.customer)}const ne={fullName:c,phone1:u,phone2:h,email:x,gender:v,dob:d,place:N,otherPlace:R,status:_,education:U,contactPoint:F,otherContactPoint:I,campaign:k,handledBy:(y==null?void 0:y.fullName)||Q,followUpDate:H,leadStatus:n,leadPotential:o,coursePreference:T};console.log("Sending updatePayload with leadPotential:",ne),console.log("leadPotential value:",o);const A=await B.put(`${ye}/customers/update/${t._id}`,ne,{withCredentials:!0});if(H)try{const J=ee.find(re=>{var me;return((me=re.extendedProps)==null?void 0:me.leadId)===t._id}),te=H,K={title:`Follow-up: ${c}`,start:te,end:te,allDay:!0,extendedProps:{calendar:"Warning",leadId:t._id,phone:u,email:x,status:n||"new"}};J?E(J.id,K):p(K)}catch(J){console.error("Error managing calendar event:",J)}return typeof V=="function"&&await V(),A.data.customer?typeof C=="function"&&C(A.data.customer):typeof C=="function"&&C(L),typeof q=="function"&&q(""),typeof O=="function"&&O({type:"lead_updated",userName:(y==null?void 0:y.fullName)||"Someone",avatar:(y==null?void 0:y.avatar)||null,action:"updated lead",entityName:c,module:"Lead Management"}),typeof S=="function"&&S()&&w.success("Updated lead status",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),!0}catch(L){return console.error("Error updating lead:",L),typeof S=="function"&&S()&&w.error("Failed to update lead. Please try again.",{position:"top-center",autoClose:3e3}),!1}},ts=async(t,i,n,o,c,u,h,x)=>{if(!i){x.error("Only managers can delete leads.",{position:"top-center",autoClose:3e3}),typeof n=="function"&&n();return}try{await B.delete(`${ye}/customers/delete/${t._id}`,{withCredentials:!0}),typeof c=="function"&&c(v=>v.filter(d=>d._id!==t._id)),typeof n=="function"&&n(),typeof o=="function"&&o(),typeof u=="function"&&u({type:"lead_deleted",userName:t.handledBy||"Someone",avatar:t.avatar||null,action:"deleted lead",entityName:t.fullName,module:"Lead Management"}),typeof h=="function"&&h()&&x.success("Lead deleted successfully!",{position:"top-center",autoClose:3e3})}catch(v){console.error("Error deleting lead:",v),typeof h=="function"&&h()&&x.error("Failed to delete lead. Please try again.",{position:"top-center",autoClose:3e3})}},as=async(t,i,n,o,c)=>{if(!(t!=null&&t.followUpDate)){c.error("No follow-up date set for this lead."),typeof i=="function"&&i();return}try{const h=new Date(t.followUpDate).toISOString().split("T")[0];typeof o=="function"&&o({title:`Follow-up: ${t.fullName}`,start:h,end:h,allDay:!0,extendedProps:{calendar:"Warning",leadId:t._id,phone:t.phone1,email:t.email,status:t.status}}),c.success(`Calendar reminder added for ${t.fullName}!`),typeof i=="function"&&i(),typeof n=="function"&&n()}catch(u){console.error("Error creating calendar event:",u),c.error("Failed to create calendar event.")}},ss=async(t,i)=>{try{return(await B.put(`${ye}/customers/mark-remark-read/${t}/${i}`,{},{withCredentials:!0})).data.customer}catch(n){throw console.error("Error marking remark as read:",n),n}},ns=t=>rs(t),rs=t=>{switch(t){case"strongProspect":return"bg-green-100 dark:bg-green-800";case"potentialProspect":return"bg-blue-100 dark:bg-blue-800";case"weakProspect":return"bg-yellow-200 dark:bg-yellow-800";case"notAProspect":return"bg-gray-300 dark:bg-gray-700";default:return""}},ls=t=>{if(!t)return"light";const i=new Date;i.setHours(0,0,0,0);const n=new Date(i);n.setDate(n.getDate()+1);const o=new Date(i);o.setDate(o.getDate()+2);const c=new Date(t);return c.setHours(0,0,0,0),c<=i?"error":c.getTime()===n.getTime()?"warning":c.getTime()===o.getTime()?"success":"light"},is=t=>t?ce(t):"No Date",Qt="http://localhost:3000/api";function ys(){var Tt,Mt,$t,It;const{user:t}=s.useContext(Da),{addEvent:i,events:n,updateEvent:o}=La(),{addNotification:c,areToastsEnabled:u}=Aa(),[h,x]=s.useState(""),[v,d]=s.useState("asc"),[N,R]=s.useState(""),[_,U]=s.useState(""),[F,I]=s.useState(""),[k,H]=s.useState(""),[T,y]=s.useState([]),[Q,X]=s.useState(!0),[p,E]=s.useState(null),[ee,V]=s.useState([]),[C,q]=s.useState([]),[O,S]=s.useState(null),[L,W]=s.useState({top:0,left:0,arrowLeft:0}),[G,ne]=s.useState(!1),A=s.useRef(null),J=s.useRef(null),{isOpen:te,openModal:K,closeModal:re}=ge(),{isOpen:me,openModal:ea,closeModal:je}=ge(),{isOpen:ta,openModal:aa,closeModal:ve}=ge(),{isOpen:sa,openModal:na,closeModal:Ne}=ge(),[os,Te]=s.useState(""),[ds,Me]=s.useState(""),[cs,$e]=s.useState(""),[ms,Ie]=s.useState(""),[us,He]=s.useState(""),[ze,Be]=s.useState(""),[Re,Ve]=s.useState(""),[qe,We]=s.useState(""),[be,Ge]=s.useState(""),[Ye,Ze]=s.useState(""),[Xe,Je]=s.useState(""),[Ke,Qe]=s.useState(""),[et,tt]=s.useState(""),[at,st]=s.useState(""),[nt,ra]=s.useState(!1),[rt,lt]=s.useState(""),[we,ke]=s.useState(""),[Ce,it]=s.useState(""),[ot,dt]=s.useState(""),[ct,Se]=s.useState(""),[la,ia]=s.useState(""),[xs,hs]=s.useState(""),[Pe,mt]=s.useState(""),[ut,xt]=s.useState([]),[De,ht]=s.useState(""),[Le,pt]=s.useState(""),[gt,ft]=s.useState(""),[yt,jt]=s.useState(""),[vt,Nt]=s.useState(""),[bt,wt]=s.useState(""),[kt,Ct]=s.useState(!0);s.useEffect(()=>{Jt(y,X),Kt(V,Yt)},[]),s.useEffect(()=>{t&&(()=>{var m;const r=t==null?void 0:t.isAdmin,l=(m=t==null?void 0:t.roles)==null?void 0:m.includes("Manager");(r||l)&&Ca()})()},[t]),s.useEffect(()=>{const a=sessionStorage.getItem("openLeadId");if(a&&T.length>0){const r=T.find(l=>l._id===a);r&&(At(r),sessionStorage.removeItem("openLeadId"))}},[T]);const oa=((Tt=t==null?void 0:t.roles)==null?void 0:Tt.includes("Manager"))||!1;(Mt=t==null?void 0:t.roles)!=null&&Mt.includes("Counsellor");const St=(t==null?void 0:t.isAdmin)||(($t=t==null?void 0:t.roles)==null?void 0:$t.includes("Manager")),Pt=!(t!=null&&t.isAdmin)&&!oa,ue=(t==null?void 0:t.isAdmin)||((It=t==null?void 0:t.roles)==null?void 0:It.includes("Manager")),Dt=a=>{const l=window.innerHeight*.8,m=20,j=window.innerWidth,Y=window.innerHeight;let P=a.left,M=a.left+a.width/2-P;P+384>j-m&&(P=j-384-m,M=a.left+a.width/2-P,M=Math.max(20,Math.min(364,M))),P<m&&(P=m,M=a.left+a.width/2-P,M=Math.max(20,Math.min(364,M)));const le=a.top,he=Y-a.bottom,pe=Math.min(l,400);let Z=a.top,se="translateY(-100%)";return le<pe+50&&he>le?(Z=a.bottom,se="translateY(10px)"):(Z=a.top,se="translateY(-100%)"),Z<m&&(Z=m),{top:Z,left:P,arrowLeft:M,transform:se}},da=(a,r)=>{if(r.remarks&&r.remarks.length>0){A.current&&clearTimeout(A.current);const l=a.currentTarget.getBoundingClientRect(),m=Dt(l);W(m),S(r._id),A.current=setTimeout(()=>{ne(!0)},150)}},Lt=()=>{A.current&&(clearTimeout(A.current),A.current=null),A.current=setTimeout(()=>{S(null),ne(!1)},100)};s.useEffect(()=>{if(!O)return;const a=()=>{const r=document.querySelector(`[data-row-id="${O}"]`);if(r){const l=r.getBoundingClientRect(),m=Dt(l);W(m)}};return window.addEventListener("resize",a),window.addEventListener("scroll",a,!0),()=>{window.removeEventListener("resize",a),window.removeEventListener("scroll",a,!0)}},[O]);const ca=a=>{const r=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a);return ra(!r),r},ma=a=>{const r=a.target.value;Ve(r),ca(r)},ae=T.filter(a=>{var M,le,he,pe,Z,se,Ht,zt,Bt,Rt;const r=((M=a.fullName)==null?void 0:M.toLowerCase().includes(h.toLowerCase()))||((le=a.phone1)==null?void 0:le.includes(h)),l=N?a.status===N:!0,m=_?a.leadStatus===_:!0,j=F?a.leadPotential===F:!0;let Y=!0;if(ue&&k){const ie=((pe=(he=a.assignedTo)==null?void 0:he._id)==null?void 0:pe.toString())||((Z=a.assignedTo)==null?void 0:Z.toString());k==="unassigned"?Y=!ie:Y=ie===k}let P=!0;if(!ue){const ie=((Ht=(se=a.assignedTo)==null?void 0:se._id)==null?void 0:Ht.toString())||((zt=a.assignedTo)==null?void 0:zt.toString()),Pa=((Bt=t==null?void 0:t.id)==null?void 0:Bt.toString())||((Rt=t==null?void 0:t._id)==null?void 0:Rt.toString());(!ie||ie!==Pa)&&(P=!1)}return r&&l&&m&&j&&Y&&P}).sort((a,r)=>{const l=new Date(a.createdAt),m=new Date(r.createdAt);return v==="asc"?l-m:m-l}),ua=a=>{q(r=>r.includes(a)?r.filter(l=>l!==a):[...r,a])},xa=a=>{a.target.checked?q(ae.map(r=>r._id)):q([])},ha=async()=>{await Ja(C,T,w)},At=async a=>{if(a.remarks&&a.remarks.length>0){const l=a.remarks.map((m,j)=>({remark:m,index:j})).filter(({remark:m})=>m.isUnread);for(const{index:m}of l)try{await ss(a._id,m)}catch(j){console.error("Error marking remark as read:",j)}l.length>0&&y(m=>m.map(j=>{if(j._id===a._id){const Y=[...j.remarks];return l.forEach(({index:P})=>{Y[P].isUnread=!1}),{...j,remarks:Y}}return j}))}Qa(a,{setSelectedRow:E,setEditName:Te,setEditPhone:Me,setEditEmail:$e,setEditStatus:Ie,setEditFollowUp:He,setFullName:Be,setEmail:Ve,setPhone1:Qe,setPhone2:tt,setGender:st,setDob:We,setPlace:Ge,setOtherPlace:Ze,setStatus:Je,setEducation:lt,setContactPoint:it,setOtherContactPoint:dt,setCampaign:Se,setHandledByPerson:ia,setFollowUpDate:mt,setRemarks:ke,setLeadStatus:ht,setLeadPotential:pt,setSelectedValues:xt}),K()},pa=a=>{if(!St){w.error("Only managers and admins can delete leads.",{position:"top-center",autoClose:3e3});return}E(a),ea()},ga=a=>{E(a),aa()},fa=async()=>{if(!De){w.error("Lead Status is required");return}if(!Le){w.error("Lead Potential is required");return}if(!Pe){w.error("Next Follow Up Date is required");return}if(!we.trim()){w.error("Remarks are required");return}await es(p,we,De,Le,ze,Ke,et,Re,at,qe,be,Ye,Xe,rt,Ce,ot,ct,Pe,ut,t,la,de,i,o,n,()=>Jt(y,X),E,ke,c,u)},ya=async()=>{await ts(p,St,je,xe,y,c,u,w)},ja=async()=>{await as(p,ve,xe,i,w)},va=a=>{a==="__add_new__"?na():Se(a)},Na=async()=>{await Ka(gt,yt,vt,bt,kt,Se,()=>Kt(V,Yt),Ne,ft,jt,Nt,wt,Ct,w)},xe=()=>{E(null),Te(""),Me(""),$e(""),Ie(""),He("")},[ba,_t]=s.useState(!1),[Ae,Ft]=s.useState(""),[Et,Ot]=s.useState(""),[Ut,wa]=s.useState([]),ka=a=>{E(a),_t(!0)},_e=()=>{_t(!1),Ft(""),Ot("")},Ca=async()=>{try{const a=await B.get(`${Qt}/users/dropdown`,{withCredentials:!0});wa(a.data.users)}catch(a){console.error("Error fetching users:",a),w.error("Failed to fetch users for assignment")}},Sa=async()=>{var a,r;if(!Ae){w.error("Please select a user to assign the lead to");return}try{const l=await B.put(`${Qt}/customers/assign/${p._id}`,{assignedTo:Ae,assignmentRemark:Et},{withCredentials:!0});l.data.customer&&(y(m=>m.map(j=>j._id===p._id?l.data.customer:j)),w.success("Lead assigned successfully!"),_e(),typeof c=="function"&&c({type:"lead_assigned",userName:(t==null?void 0:t.fullName)||"Someone",avatar:(t==null?void 0:t.avatar)||null,action:"assigned lead",entityName:p.fullName,module:"Lead Management"}))}catch(l){console.error("Error assigning lead:",l),w.error(((r=(a=l.response)==null?void 0:a.data)==null?void 0:r.message)||"Failed to assign lead")}};return e.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white px-4 pb-3 pt-4 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6",children:[Q?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"Loading leads..."})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col gap-3 mb-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Enquiries"}),Pt&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only leads assigned to you"}),C.length>0&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[C.length," lead(s) selected"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[e.jsx(z,{type:"text",placeholder:"Search by name or phone...",value:h,onChange:a=>x(a.target.value),className:"rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300"}),e.jsx(D,{className:"w-full md:w-1/4",options:_a,value:v,placeholder:"Sort by date",onChange:a=>d(a)}),e.jsx(D,{className:"w-full md:w-1/4",options:[{value:"",label:"All Lead Statuses"},...Ee],value:_,placeholder:"Filter by lead status",onChange:a=>U(a)}),e.jsx(D,{className:"w-full md:w-1/4",options:[{value:"",label:"All Lead Potentials"},...qt],value:F,placeholder:"Filter by lead potential",onChange:a=>I(a)}),ue&&e.jsx(D,{className:"w-full md:w-1/4",options:[{value:"",label:"All Users"},{value:"unassigned",label:"Unassigned"},...Ut.map(a=>({value:a._id,label:a.fullName}))],value:k,placeholder:"Filter by assigned user",onChange:a=>H(a)}),e.jsx(b,{size:"sm",variant:"outline",onClick:ha,endIcon:e.jsx(Ga,{className:"size-5"}),disabled:C.length===0,children:"PDF"})]})]}),e.jsx("div",{className:"max-w-full overflow-x-auto",children:e.jsxs(Fa,{className:"min-w-[1200px]",children:[e.jsx(Ea,{className:"border-gray-100 dark:border-gray-800 border-y",children:e.jsxs(Fe,{children:[e.jsx(g,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:e.jsx("input",{type:"checkbox",checked:ae.length>0&&C.length===ae.length,onChange:xa,className:"h-4 w-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500"})}),e.jsx(g,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"   Alert"}),e.jsx(g,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Name"}),e.jsx(g,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Date Added"}),e.jsx(g,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Mobile"}),e.jsx(g,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Contact Point"}),e.jsx(g,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Campaign"}),e.jsx(g,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Lead Status"}),e.jsx(g,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Latest Remark"}),e.jsx(g,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Next Follow-up"}),e.jsx(g,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Actions"})]})}),e.jsx(Oa,{className:"divide-y divide-gray-100 dark:divide-gray-800",children:ae.length===0?e.jsx(Fe,{children:e.jsx(g,{colSpan:11,className:"py-8 text-center text-gray-500",children:Pt?"No leads assigned to you.":"No leads found. Create your first lead!"})}):ae.map(a=>{var m;const r=Za(a.remarks),l=Xa(a.remarks);return e.jsxs(Fe,{children:[e.jsx(g,{className:"py-3",children:e.jsx("input",{type:"checkbox",checked:C.includes(a._id),onChange:()=>ua(a._id),className:"h-4 w-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500"})}),e.jsx(g,{className:`py-3 ${ns(a.leadPotential)}`,children:l&&e.jsx("div",{className:"flex justify-center",children:e.jsxs("span",{className:"relative flex h-3 w-3",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})})}),e.jsx(g,{className:"py-3",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"relative",children:[e.jsxs("p",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:[" ",a.fullName]}),e.jsxs("p",{className:"text-gray-400 text-xs whitespace-pre-wrap break-words",children:[" ",((m=a.coursePreference)==null?void 0:m.join(", "))||"N/A"]})]})})}),e.jsx(g,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:ce(a.createdAt)}),e.jsx(g,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:a.phone1}),e.jsx(g,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:a.contactPoint||"N/A"}),e.jsx(g,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:a.campaign||"N/A"}),e.jsxs(g,{className:"py-3",children:[e.jsx(fe,{size:"sm",color:Xt(a.leadStatus),children:de(a.leadStatus)}),e.jsxs("p",{className:"text-gray-400 text-xs mt-1",children:["Agent: ",a.handledBy||"N/A"]}),a.assignedTo&&e.jsxs("p",{className:"text-gray-400 text-xs mt-1",children:["Assigned to: ",a.assignedTo.fullName]})]}),e.jsx(g,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:e.jsxs("div",{className:"relative","data-row-id":a._id,onMouseEnter:j=>da(j,a),onMouseLeave:Lt,children:[e.jsx("p",{className:"text-xs max-w-[200px] truncate cursor-help",children:r}),a.assignmentRemark&&e.jsxs("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1 truncate animate-pulse duration-100",children:["Suggestion: ",a.assignmentRemark]})]})}),e.jsx(g,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:e.jsx(fe,{size:"sm",color:ls(a.followUpDate),children:is(a.followUpDate)})}),e.jsx(g,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{size:"sm",variant:"outline",className:"mr-2",endIcon:e.jsx(Ta,{className:"size-5"}),onClick:()=>At(a)}),Ua(t)&&e.jsx(b,{size:"sm",variant:"outline",className:"text-red-500 mr-2",endIcon:e.jsx(Ma,{className:"size-5"}),onClick:()=>pa(a)}),ue&&e.jsx(b,{size:"sm",variant:"outline",className:"text-blue-500 mr-2",onClick:()=>ka(a),children:"Assign"}),e.jsx(b,{size:"sm",variant:"outline",className:"text-yellow-500",endIcon:e.jsx(Wa,{className:"size-5"}),onClick:()=>ga(a)})]})})]},a._id)})})]})}),O&&G&&(()=>{const a=ae.find(l=>l._id===O);if(!a||!a.remarks||a.remarks.length===0)return null;const r=L.transform.includes("-100%");return e.jsxs("div",{ref:J,className:`fixed w-96 max-w-[90vw] max-h-[80vh] bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 z-[9999] transition-all duration-200 ${G?"opacity-100 scale-100":"opacity-0 scale-95"}`,style:{top:`${L.top}px`,left:`${L.left}px`,transform:L.transform},onMouseEnter:()=>{A.current&&clearTimeout(A.current)},onMouseLeave:Lt,children:[L.arrowLeft>0&&e.jsx("div",{className:`absolute ${r?"bottom-0":"top-0"} left-0 w-0 h-0`,style:{left:`${L.arrowLeft}px`,transform:r?"translateY(100%) translateX(-50%)":"translateY(-100%) translateX(-50%)"},children:e.jsx("div",{className:`w-0 h-0 border-l-[8px] border-r-[8px] ${r?"border-t-[8px] border-t-white dark:border-t-gray-800 border-l-transparent border-r-transparent":"border-b-[8px] border-b-white dark:border-b-gray-800 border-l-transparent border-r-transparent"}`,style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}})}),e.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800 z-10 rounded-t-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:"Remark History"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[a.remarks.length," remark",a.remarks.length!==1?"s":""]})]}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(80vh-100px)] p-3 space-y-3 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent dark:scrollbar-thumb-gray-700 hover:scrollbar-thumb-gray-400 dark:hover:scrollbar-thumb-gray-600",children:[...a.remarks].reverse().map((l,m)=>e.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3 dark:border-gray-700 dark:bg-gray-900 transition-colors hover:bg-gray-100 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-800 dark:text-white",children:l.handledBy||"Unknown"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:l.updatedOn?new Date(l.updatedOn).toLocaleString():"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(fe,{size:"sm",color:Xt(l.leadStatus||"new"),children:de(l.leadStatus||"new")}),l.isUnread&&e.jsx("span",{className:"text-xs text-red-500 dark:text-red-400",children:"Unread"})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap break-words",children:l.remark||"No remarks"}),l.nextFollowUpDate&&e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:["Next Follow-up: ",new Date(l.nextFollowUpDate).toLocaleDateString()]})]},m))})]})})(),e.jsxs(oe,{isOpen:te,onClose:re,overlayClassName:"bg-black/5 backdrop-blur-none",className:"max-w-[1480px] p-6 lg:p-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"mb-2 font-semibold text-gray-800 dark:text-white/90 modal-title text-theme-xl lg:text-2xl",children:"Edit Lead"}),e.jsx("button",{onClick:re,className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"✕"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-2",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx(f,{htmlFor:"firstName",children:"Full Name"}),e.jsx(z,{type:"text",id:"firstName",value:ze,onChange:a=>Be(a.target.value),disabled:!$(t)}),!$(t)&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Only owners can edit this field"})]}),e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx(f,{children:"Email"}),e.jsx(z,{type:"email",value:Re,error:nt,onChange:ma,placeholder:"Enter your email",hint:nt?"This is an invalid email address.":"",disabled:!$(t)}),!$(t)&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Only owners can edit this field"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx(f,{children:"Phone"}),e.jsx(Wt,{selectPosition:"end",countries:Gt,placeholder:"+91 98765 43210",value:Ke,onChange:Qe,disabled:!$(t)}),!$(t)&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Only owners can edit this field"})]}),e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx(f,{children:"Phone (optional)"}),e.jsx(Wt,{selectPosition:"end",countries:Gt,placeholder:"+91 98765 43210",value:et,onChange:tt})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"w-full md:w-1/4",children:[e.jsx(f,{children:"Gender"}),e.jsx(D,{options:$a,value:at,placeholder:"Select Gender",onChange:st})]}),e.jsx("div",{className:"w-full md:w-1/4",children:e.jsx(Zt,{id:"dob",label:"DoB",placeholder:"Select a date",value:qe,onChange:(a,r)=>We(r)})}),e.jsxs("div",{className:"w-full md:w-1/4",children:[e.jsx(f,{children:"Place"}),e.jsx(D,{options:Ia,value:be,placeholder:"Select Place",onChange:Ge})]}),e.jsxs("div",{className:"w-full md:w-1/4",children:[e.jsx(f,{htmlFor:"otherPlace",children:"Specify other"}),e.jsx(z,{type:"text",id:"otherPlace",value:Ye,onChange:a=>Ze(a.target.value),disabled:be!=="Other"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-stretch",children:[e.jsxs("div",{className:"w-full md:w-1/4",children:[e.jsx(f,{children:"Current Status"}),e.jsx(D,{options:Ha,value:Xe,placeholder:"Select Status",onChange:Je})]}),e.jsxs("div",{className:"w-full md:w-1/4",children:[e.jsx(f,{children:"Education"}),e.jsx(D,{options:za,value:rt,placeholder:"Select Education",onChange:lt})]}),e.jsxs("div",{className:"w-full md:w-1/4",children:[e.jsx(f,{children:"Contact Point"}),e.jsx(D,{options:Ba,value:Ce,placeholder:"Contacted Through",onChange:it,disabled:!$(t)}),!$(t)&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Only owners can edit this field"})]}),e.jsxs("div",{className:"w-full md:w-1/4",children:[e.jsx(f,{htmlFor:"otherContactPoint",children:"Specify other"}),e.jsx(z,{type:"text",id:"otherContactPoint",value:ot,onChange:a=>dt(a.target.value),disabled:Ce!=="other"})]})]}),e.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-stretch",children:e.jsx("div",{className:"w-full",children:e.jsx(Ra,{label:"Course Preference",options:Oe,selectedValues:ut,onChange:xt})})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-stretch",children:[e.jsxs("div",{className:"w-full md:w-1/4",children:[e.jsx(f,{children:"Campaign"}),e.jsx(D,{options:ee,value:ct,placeholder:"Campaigns",onChange:va,disabled:!$(t)}),!$(t)&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Only owners can edit this field"})]}),e.jsxs("div",{className:"w-full md:w-1/4",children:[e.jsx(f,{children:"Lead Status *"}),e.jsx(D,{id:"leadStatus",label:"Lead Status",options:Ee,value:De,onChange:ht,required:!0})]}),e.jsxs("div",{className:"w-full md:w-1/4",children:[e.jsx(f,{children:"Lead Potential *"}),e.jsx(D,{options:qt,value:Le,placeholder:"Select Lead Potential",onChange:pt})]}),e.jsx("div",{className:"w-full md:w-1/4",children:e.jsx(Zt,{id:"followupDate",label:"Next Follow Up Date *",placeholder:"Select a date",value:Pe,disablePastDates:!0,onChange:(a,r)=>mt(r)})})]}),e.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-stretch",children:e.jsxs("div",{className:"w-full",children:[e.jsx(f,{htmlFor:"remarks",children:"Remarks *"}),e.jsx(z,{type:"text",id:"remarks",value:we,onChange:a=>ke(a.target.value)})]})}),e.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[e.jsx(b,{variant:"outline",onClick:re,children:"Cancel"}),e.jsx(b,{variant:"primary",onClick:fa,children:"Update"})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsx(Va,{title:"History & Remarks",children:e.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent dark:scrollbar-thumb-gray-700 hover:scrollbar-thumb-gray-400 dark:hover:scrollbar-thumb-gray-600",children:p!=null&&p.remarks&&p.remarks.length>0?[...p.remarks].reverse().map((a,r)=>e.jsx(Ya,{name:a.handledBy||(t==null?void 0:t.fullName)||"Unknown",datetime:a.updatedOn?new Date(a.updatedOn).toLocaleString():"N/A",callback:a.nextFollowUpDate?new Date(a.nextFollowUpDate).toLocaleDateString():"",note:a.remark||"No remarks",status:de(a.leadStatus||"new")},r)):e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx("p",{children:"No history available yet."}),e.jsx("p",{className:"text-sm mt-2",children:"Remarks and updates will appear here."})]})})})})]})]}),e.jsxs(oe,{isOpen:me,onClose:je,overlayClassName:"bg-black/5 backdrop-blur-none",className:"max-w-[700px] p-6 lg:p-10",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Confirm Delete"}),e.jsxs("p",{children:["Are you sure you want to delete enquiry ",e.jsx("strong",{children:p==null?void 0:p.name}),"?"]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(b,{variant:"outline",onClick:()=>{je(),xe()},children:" Cancel"}),e.jsx(b,{variant:"danger",onClick:ya,children:"Delete"})]})]}),e.jsxs(oe,{isOpen:ta,onClose:ve,overlayClassName:"bg-black/5 backdrop-blur-none",className:"max-w-[700px] p-6 lg:p-10",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Set Follow-up Reminder"}),e.jsxs("p",{children:["Set a reminder for ",e.jsx("strong",{children:p==null?void 0:p.fullName})," on ",p?ce(p.followUpDate):"","."]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(b,{variant:"outline",onClick:()=>{ve(),xe()},children:"Close"}),e.jsx(b,{variant:"warning",onClick:ja,children:"Set Reminder"})]})]}),e.jsxs(oe,{isOpen:sa,onClose:Ne,className:"max-w-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white/90 mb-4",children:"Add New Campaign"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(f,{htmlFor:"newCampaignName",children:"Campaign Name *"}),e.jsx(z,{id:"newCampaignName",type:"text",value:gt,onChange:a=>ft(a.target.value),placeholder:"e.g., Summer Promotion 2024"})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"newCampaignDesc",children:"Description"}),e.jsx("textarea",{id:"newCampaignDesc",value:yt,onChange:a=>jt(a.target.value),placeholder:"Campaign description (optional)",rows:3,className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-700 focus:border-blue-500 focus:ring focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(f,{htmlFor:"newCampaignDiscount",children:"Discount %"}),e.jsx(z,{id:"newCampaignDiscount",type:"number",min:"0",max:"100",value:vt,onChange:a=>Nt(a.target.value),placeholder:"0"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(f,{htmlFor:"newCampaignCashback",children:"Cashback (₹)"}),e.jsx(z,{id:"newCampaignCashback",type:"number",min:"0",value:bt,onChange:a=>wt(a.target.value),placeholder:"0"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"newCampaignActive",checked:kt,onChange:a=>Ct(a.target.checked),className:"h-4 w-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500"}),e.jsx(f,{htmlFor:"newCampaignActive",className:"mb-0",children:"Mark as Active"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Only active campaigns will appear in dropdowns"}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(b,{variant:"outline",onClick:Ne,children:"Cancel"}),e.jsx(b,{onClick:Na,children:"Create Campaign"})]})]})]}),e.jsxs(oe,{isOpen:ba,onClose:_e,className:"max-w-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white/90 mb-4",children:"Assign Lead"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(f,{htmlFor:"assignToUser",children:"Assign To"}),e.jsx(D,{options:Ut.map(a=>({value:a._id,label:a.fullName})),value:Ae,placeholder:"Select User",onChange:Ft})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"assignmentRemark",children:"Assignment Remark (Optional)"}),e.jsx("textarea",{id:"assignmentRemark",value:Et,onChange:a=>Ot(a.target.value),placeholder:"Add a remark for the assignment...",rows:3,className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-700 focus:border-blue-500 focus:ring focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300"})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(b,{variant:"outline",onClick:_e,children:"Cancel"}),e.jsx(b,{onClick:Sa,children:"Assign Lead"})]})]})]})]}),e.jsx(qa,{position:"top-center",className:"!z-[999999]",style:{zIndex:999999}})]})}export{ys as R};
