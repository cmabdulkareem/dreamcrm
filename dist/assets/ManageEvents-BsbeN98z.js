import{r as i,A as pe,a as ve,j as e,m as be,P as fe,E as ye,n as we,f as p,C as I,x as o,I as f,H as X,J as je,b as y,c as u,y as n}from"./index-BNEGGE57.js";import{D as Ne}from"./date-picker-BeppTpDh.js";import"./index-B_JH6AFf.js";import"./calender-line-DQbsZUHO.js";y.defaults.withCredentials=!0;const Me=()=>{const{isAdmin:ke,user:h}=i.useContext(pe),[z,H]=i.useState([]),[J,O]=i.useState(!0),[G,B]=i.useState(!1),[K,Q]=i.useState(null),[c,v]=i.useState({eventName:"",eventDescription:"",eventDate:"",maxRegistrations:0,eventPin:"",registrationFields:[{fieldName:"Full Name",fieldType:"text",isRequired:!0},{fieldName:"Email",fieldType:"email",isRequired:!0}]}),[l,w]=i.useState({fieldName:"",fieldType:"text",isRequired:!1,options:[]}),[b,C]=i.useState(null),[V,E]=i.useState({unit:"%",x:0,y:0,width:100,height:56.25,aspect:16/9}),[Z,D]=i.useState(null),[T,j]=i.useState(null),[A,ee]=i.useState(null),R=i.useRef(null),N=i.useRef(null),te=ve(),F=async()=>{try{O(!0);const t=await y.get(`${u}/events`,{withCredentials:!0});H(t.data.events||[])}catch(t){console.error("Error fetching events:",t),n.error("Failed to fetch events"),H([])}finally{O(!1)}};i.useEffect(()=>{F()},[]);const M=t=>{const{name:a,value:r}=t.target;v(s=>({...s,[a]:r}))},L=(t,a,r)=>{const s=[...c.registrationFields];s[t][a]=r,v(d=>({...d,registrationFields:s}))},ae=()=>{if(l.fieldName.trim()===""){n.error("Field name is required");return}v(t=>({...t,registrationFields:[...t.registrationFields,{...l}]})),w({fieldName:"",fieldType:"text",isRequired:!1,options:[]})},re=t=>{const a=[...c.registrationFields];a.splice(t,1),v(r=>({...r,registrationFields:a}))},U=async(t,a)=>{var r,s;try{if(!p(h))throw new Error("Access denied. Manager privileges required.");const d=new File([a],"banner.jpg",{type:"image/jpeg"}),m=new FormData;return m.append("banner",d),(await y.post(`${u}/events/upload-banner/${t}`,m,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}})).data.bannerImage}catch(d){console.error("Error uploading banner:",d);const m=((s=(r=d.response)==null?void 0:r.data)==null?void 0:s.message)||d.message||"Failed to upload banner";throw n.error(m),d}},W=()=>{v({eventName:"",eventDescription:"",eventDate:"",maxRegistrations:0,eventPin:"",registrationFields:[{fieldName:"Full Name",fieldType:"text",isRequired:!0},{fieldName:"Email",fieldType:"email",isRequired:!0}]}),w({fieldName:"",fieldType:"text",isRequired:!1,options:[]}),C(null),j(null),E({unit:"%",x:0,y:0,width:100,height:56.25,aspect:16/9}),D(null),N.current&&(N.current.value="")},se=async t=>{try{const r=(await y.get(`${u}/events/${t}`,{withCredentials:!0})).data.event;v({eventName:r.eventName||"",eventDescription:r.eventDescription||"",eventDate:r.eventDate?new Date(r.eventDate).toISOString().split("T")[0]:"",maxRegistrations:r.maxRegistrations||0,eventPin:r.eventPin||"",registrationFields:r.registrationFields||[{fieldName:"Full Name",fieldType:"text",isRequired:!0},{fieldName:"Email",fieldType:"email",isRequired:!0}]}),r.bannerImage?(C(`${u.replace("/api","")}${r.bannerImage}`),j(`${u.replace("/api","")}${r.bannerImage}`)):(C(null),j(null)),Q(t),B(!0)}catch(a){console.error("Error fetching event for edit:",a),n.error("Failed to load event details")}},ne=t=>{se(t)},ie=async t=>{var a,r;if(t.preventDefault(),!p(h)){n.error("Access denied. Manager privileges required.");return}if(l.fieldName&&l.fieldName.trim()!==""){n.warning("You have an unsaved field in the 'New Field' section. Please click 'Add Field' to include it, or clear the input.");return}try{const s={...c,eventDate:new Date(c.eventDate).toISOString()},d=await y.put(`${u}/events/update/${K}`,s,{withCredentials:!0});if(A||b&&!T.includes(u.replace("/api","")))try{if(A)await U(d.data.event._id,A);else if(b!=null&&b.startsWith("data:")){const k=await(await fetch(b)).blob();await U(d.data.event._id,k)}await F()}catch(m){console.error("Error uploading banner:",m),n.error("Event updated but banner upload failed")}else await F();n.success("Event updated successfully"),B(!1),W()}catch(s){console.error("Error updating event:",s),n.error(((r=(a=s.response)==null?void 0:a.data)==null?void 0:r.message)||"Failed to update event")}},le=async t=>{var a,r;if(!p(h)){n.error("Access denied. Manager privileges required.");return}try{await y.patch(`${u}/events/toggle-status/${t}`,{},{withCredentials:!0}),n.success("Event status updated"),F()}catch(s){console.error("Error toggling event status:",s),n.error(((r=(a=s.response)==null?void 0:a.data)==null?void 0:r.message)||"Failed to update event status")}},de=async t=>{var a,r;if(!p(h)){n.error("Access denied. Manager privileges required.");return}if(window.confirm("Are you sure you want to delete this event?"))try{await y.delete(`${u}/events/delete/${t}`,{withCredentials:!0}),n.success("Event deleted successfully"),F()}catch(s){console.error("Error deleting event:",s),n.error(((r=(a=s.response)==null?void 0:a.data)==null?void 0:r.message)||"Failed to delete event")}},_=t=>{te(`/events/${t}/registrations`)},oe=t=>{const a=`${window.location.origin}/event-registration/${t}`;navigator.clipboard.writeText(a),n.success("Registration link copied to clipboard")},ce=i.useCallback(t=>{t&&(R.current=t)},[]),me=(t,a,r)=>{const s=document.createElement("canvas"),d=t.naturalWidth/t.width,m=t.naturalHeight/t.height;let k,q,g,x;a.unit==="%"||a.unit===void 0?(k=a.x/100*t.width,q=a.y/100*t.height,g=a.width/100*t.width,x=a.height/100*t.height):(k=a.x,q=a.y,g=a.width,x=a.height);const P=16/9;return g/x>P?g=x*P:x=g/P,s.width=g,s.height=x,s.getContext("2d").drawImage(t,k*d,q*m,g*d,x*m,0,0,g,x),new Promise((ge,xe)=>{s.toBlob($=>{if(!$){xe(new Error("Canvas is empty"));return}$.name=r,ge($)},"image/jpeg",.8)})},ue=t=>{const a=t.target.files[0];if(!a)return;if(!a.type.startsWith("image/")){n.error("Please select an image file");return}if(a.size>5*1024*1024){n.error("File size exceeds 5MB limit");return}const r=new FileReader;r.onload=s=>{C(s.target.result),j(null),E({unit:"%",x:0,y:0,width:100,height:56.25,aspect:16/9}),D({unit:"%",x:0,y:0,width:100,height:56.25,aspect:16/9})},r.readAsDataURL(a)},he=async()=>{const t=Z||V;if(!t||!R.current){n.error("Please select an area to crop");return}if(!R.current.complete||R.current.naturalWidth===0){n.error("Image not fully loaded. Please try again.");return}try{const a=await me(R.current,t,"banner.jpg");ee(a),j(URL.createObjectURL(a))}catch(a){console.error("Error cropping image:",a),n.error("Failed to crop image")}},S=()=>{var t;(t=N.current)==null||t.click()},Y=()=>{C(null),j(null),E({unit:"%",x:0,y:0,width:100,height:56.25,aspect:16/9}),D(null),N.current&&(N.current.value="")};return J?e.jsx(be,{}):e.jsxs(e.Fragment,{children:[e.jsx(fe,{title:"Manage Events - CRM"}),e.jsx(ye,{pageTitle:"Manage Your Events Here"}),e.jsx(we,{position:"top-center",className:"!z-[999999]",style:{zIndex:999999}}),!p(h)&&e.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6",role:"alert",children:[e.jsx("p",{className:"font-bold",children:"Access Limited"}),e.jsx("p",{children:"You don't have permission to manage events."})]}),G&&p(h)?e.jsx(I,{title:"Edit Event",children:e.jsxs("form",{onSubmit:ie,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx(o,{htmlFor:"eventName",children:"Event Name *"}),e.jsx(f,{type:"text",id:"eventName",name:"eventName",value:c.eventName,onChange:M,required:!0})]}),e.jsx("div",{className:"w-full md:w-1/2",children:e.jsx(Ne,{id:"eventDate",label:"Event Date *",value:c.eventDate,onChange:(t,a)=>v({...c,eventDate:a})})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"w-full md:w-1/2",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"eventDescription",children:"Event Description"}),e.jsx("textarea",{id:"eventDescription",name:"eventDescription",value:c.eventDescription,onChange:M,rows:"3",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-hidden focus:ring-3 focus:ring-brand-500/20 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 bg-transparent text-gray-800 focus:border-brand-300 dark:border-gray-700 dark:focus:border-brand-800 rounded-lg shadow-theme-xs"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx(o,{htmlFor:"maxRegistrations",children:"Max Registrations"}),e.jsx(f,{type:"number",id:"maxRegistrations",name:"maxRegistrations",value:c.maxRegistrations,onChange:M,min:"0"})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx(o,{htmlFor:"eventPin",children:"Event PIN (4 Digits)"}),e.jsx(f,{type:"text",id:"eventPin",name:"eventPin",value:c.eventPin,onChange:M,maxLength:4,pattern:"\\d{4}",placeholder:"1234"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(o,{children:"Registration Fields"}),c.registrationFields.map((t,a)=>e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"w-full md:w-2/5",children:[e.jsx(o,{children:"Field Name"}),e.jsx(f,{type:"text",value:t.fieldName,onChange:r=>L(a,"fieldName",r.target.value),placeholder:"Field Name"})]}),e.jsxs("div",{className:"w-full md:w-2/5",children:[e.jsx(o,{children:"Field Type"}),e.jsx(X,{options:[{value:"text",label:"Text"},{value:"email",label:"Email"},{value:"number",label:"Number"},{value:"textarea",label:"Textarea"},{value:"select",label:"Select"}],value:t.fieldType,onChange:r=>L(a,"fieldType",r)}),t.fieldType==="select"&&e.jsxs("div",{className:"mt-2",children:[e.jsx(o,{children:"Options (comma separated)"}),e.jsx(f,{type:"text",value:t.options?t.options.join(", "):"",onChange:r=>L(a,"options",r.target.value.split(",").map(s=>s.trim())),placeholder:"Option 1, Option 2, Option 3"})]})]}),e.jsx("div",{className:"w-full md:w-1/5 flex items-end",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.isRequired,onChange:r=>L(a,"isRequired",r.target.checked),className:"mr-2 h-5 w-5 text-brand-500 rounded focus:ring-brand-500"}),e.jsx(o,{className:"mb-0",children:"Required"})]})}),e.jsx("div",{className:"w-full md:w-auto flex items-end",children:e.jsx("button",{type:"button",onClick:()=>re(a),className:"text-red-500 hover:text-red-700 px-3 py-2",children:"Remove"})})]},a))]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"w-full md:w-2/5",children:e.jsx(f,{type:"text",name:"fieldName",value:l.fieldName,onChange:t=>w({...l,fieldName:t.target.value}),placeholder:"New Field Name"})}),e.jsxs("div",{className:"w-full md:w-2/5",children:[e.jsx(X,{options:[{value:"text",label:"Text"},{value:"email",label:"Email"},{value:"number",label:"Number"},{value:"date",label:"Date"},{value:"textarea",label:"Textarea"},{value:"select",label:"Select"}],value:l.fieldType,onChange:t=>w({...l,fieldType:t})}),l.fieldType==="select"&&e.jsxs("div",{className:"mt-2",children:[e.jsx(o,{children:"Options (comma separated)"}),e.jsx(f,{type:"text",value:l.options?l.options.join(", "):"",onChange:t=>w({...l,options:t.target.value.split(",").map(a=>a.trim())}),placeholder:"Option 1, Option 2, Option 3"})]})]}),e.jsx("div",{className:"w-full md:w-1/5 flex items-end",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"isRequired",checked:l.isRequired,onChange:t=>w({...l,isRequired:t.target.checked}),className:"mr-2 h-5 w-5 text-brand-500 rounded focus:ring-brand-500"}),e.jsx("span",{className:"text-sm",children:"Required"})]})}),e.jsx("div",{className:"w-full md:w-auto flex items-end",children:e.jsx("button",{type:"button",onClick:ae,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded text-sm",children:"Add Field"})})]})]})})]})}),e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx(o,{children:"Banner Image (Optional)"}),e.jsx("input",{type:"file",ref:N,onChange:ue,accept:"image/*",className:"hidden"}),b?e.jsx("div",{className:"mt-2",children:T?e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-full pt-[56.25%] overflow-hidden rounded-lg border border-gray-300 dark:border-gray-600 relative",children:e.jsx("img",{src:T,alt:"Cropped Banner Preview",className:"absolute top-0 left-0 w-full h-full object-cover"})}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{type:"button",onClick:S,className:"bg-white dark:bg-gray-800 rounded-full p-2 shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-700 dark:text-gray-300",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}),e.jsx("button",{type:"button",onClick:Y,className:"bg-white dark:bg-gray-800 rounded-full p-2 shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{children:"Cropped Banner Preview"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"This is how your banner will appear on the event registration form."})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-full overflow-hidden rounded-lg border border-gray-300 dark:border-gray-600",children:e.jsx(je,{crop:V,onChange:t=>E(t),onComplete:t=>D(t),aspect:16/9,minWidth:100,minHeight:100*(9/16),ruleOfThirds:!0,crossorigin:"anonymous",children:e.jsx("img",{ref:ce,src:b,alt:"Banner Preview",className:"w-full h-auto max-h-96 object-contain"})})}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{type:"button",onClick:S,className:"bg-white dark:bg-gray-800 rounded-full p-2 shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-700 dark:text-gray-300",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}),e.jsx("button",{type:"button",onClick:Y,className:"bg-white dark:bg-gray-800 rounded-full p-2 shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),e.jsx("div",{className:"flex justify-end gap-2 mt-4",children:e.jsx("button",{type:"button",onClick:he,className:"px-4 py-2 bg-brand-500 text-white rounded-md hover:bg-brand-600",children:"Crop Banner"})})]})}):e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{onClick:S,className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg h-48 flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-800 cursor-pointer hover:border-brand-500 transition-colors",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"Click to upload banner"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"16:9 aspect ratio recommended"})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Optional: Upload a banner image for this event"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{B(!1),W()},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-500 text-white rounded-md hover:bg-brand-600",children:"Update Event"})]})]})}):e.jsx(I,{title:"Manage Events",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No events found."}),e.jsx("a",{href:"/events/create",className:"inline-block px-4 py-2 bg-brand-500 text-white rounded-md hover:bg-brand-600 transition-colors",children:"Create your first event"})]}):z.map(t=>e.jsx(I,{className:"border rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-200",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t.eventName}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${t.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"}`,children:t.isActive?"Active":"Inactive"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-5 line-clamp-2",children:t.eventDescription||"No description provided"}),e.jsxs("div",{className:"mb-5 space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-brand-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"font-medium",children:"Date:"}),e.jsx("span",{className:"ml-2",children:new Date(t.eventDate).toLocaleString()})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-brand-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("span",{className:"font-medium",children:"Registrations:"}),e.jsxs("span",{className:"ml-2",children:[t.currentRegistrations," / ",t.maxRegistrations||"Unlimited"]})]})]}),t.registrationLink&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:e.jsx("span",{className:"font-medium",children:"Registration Link:"})}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",readOnly:!0,value:`${window.location.origin}/event-registration/${t.registrationLink}`,className:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded-l dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),e.jsx("button",{onClick:()=>oe(t.registrationLink),className:"bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-r text-sm dark:bg-gray-600 dark:hover:bg-gray-500",children:"Copy"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[p(h)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>le(t._id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t.isActive?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:t.isActive?"Deactivate":"Activate"}),e.jsx("button",{onClick:()=>ne(t._id),className:"px-4 py-2 bg-brand-500 hover:bg-brand-600 text-white rounded-md text-sm font-medium transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>_(t._id),className:"px-4 py-2 bg-brand-500 hover:bg-brand-600 text-white rounded-md text-sm font-medium transition-colors",children:"View Registrations"}),e.jsx("button",{onClick:()=>de(t._id),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-md text-sm font-medium transition-colors",children:"Delete"})]}),!p(h)&&e.jsx("button",{onClick:()=>_(t._id),className:"px-4 py-2 bg-brand-500 hover:bg-brand-600 text-white rounded-md text-sm font-medium transition-colors",children:"View Registrations"})]})]})},t._id))})})})]})};export{Me as default};
